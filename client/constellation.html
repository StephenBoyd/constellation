<head>
  <title>constellation</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
</head>

<body>
  <header>
    <div class="container-fluid">
      <h1>constellation</h1>
      {{> loginButtons}}
    </div>
  </header>
  
  <div id="container-fluid main">
    {{#if currentUser}}
      {{> newPost}}
    {{/if}}
    <div id="post-area" class=" masonry js-masonry isotope js-isotope"
      data-isotope-options='{ "itemSelector": ".masonry-brick", "masonry": { "isFitWidth": true } }'>
        {{#each posts}}
          {{> post}}
        {{/each}}
    </div>
  </div>
</body>

<template name="newPost">
  <div id="new-post-area" class="item col-lg-3 col-md-5 col-sm-5 col-xs-11">
    <form class="new-post">
      <textarea input type="text" rows="7" class="form-control" name="text" placeholder="Type your new post here"></textarea>
      <button type="submit" class="btn btn-primary">
        <span class="glyphicon glyphicon-plus"></span>
        Submit
      </button>
    </form>
  </div>
</template>

<template name="post">
  <div class="item masonry-brick col-lg-3 col-md-5 col-sm-5 col-xs-11">
    <span class="post-header">
      <strong>{{username}}</strong>
      <span class="date">{{prettifyDate createdAt}}</span>
      {{#if isOwner}}
        <span type="button" class="delete">
          <span class="glyphicon glyphicon-remove"></span>
        </span>
      {{/if}}
    </span>
    <br>
    <span class="text">{{text}}</span>
    <br>
    <br>
  </div>
</template>
